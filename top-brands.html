<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BeerStylesLibrary | Top Beer Brands</title>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="css/variables.css?v=46">
    <link rel="stylesheet" href="css/styles.css?v=46">
    <link rel="stylesheet" href="css/top-brands.css?v=1">

    <!-- app.js commented out - using custom unified header -->
    <!-- <script type="module" src="js/app.js?v=36" defer></script> -->

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                const headerTitle = document.querySelector('.header-title');
                if (headerTitle) {
                    // Update header title based on simple detection or default
                    const lang = localStorage.getItem('i18nextLng') || 'pt-BR';
                    if (lang === 'pt-BR' || lang.startsWith('pt')) headerTitle.textContent = "Top Marcas de Cerveja";
                    else if (lang === 'de') headerTitle.textContent = "Top Biermarken";
                    else headerTitle.textContent = "Top Beer Brands";
                }
            }, 100);
        });
    </script>
</head>

<body>
    <div class="app-container">
        <!-- Unified Header: Logo | Pills | Menu -->
        <header id="main-header" class="main-header unified-header">
            <div class="header-left">
                <a href="index.html" class="header-logo">
                    <span class="logo-text">Beer<span class="logo-accent">SL</span></span>
                </a>
            </div>
            <nav class="header-nav-pills">
                <div class="nav-pills">
                    <a href="index.html" class="nav-pill">ğŸ“Š <span data-i18n="nav.styles">Estilos</span></a>
                    <a href="top-brands.html" class="nav-pill active">ğŸº <span data-i18n="nav.brands">Top Brands</span>
                        <span class="badge">250+</span></a>
                    <a href="producao.html" class="nav-pill">ğŸ» <span data-i18n="nav.production">ProduÃ§Ã£o</span></a>
                    <a href="about.html" class="nav-pill">â„¹ï¸ <span data-i18n="nav.about">Sobre</span></a>
                    <a href="contact.html" class="nav-pill">ğŸ“§ <span data-i18n="nav.contact">Contato</span></a>
                </div>
            </nav>
            <div class="header-right">
                <button class="menu-toggle" id="menu-toggle" aria-label="Menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </header>

        <!-- Dashboard Hero -->
        <section class="dashboard-hero">
            <div class="hero-content">
                <div class="hero-text">
                    <h1 class="hero-greeting">
                        <span data-i18n="brands.hero.greeting">OlÃ¡! Explore as</span><br>
                        <span class="highlight" data-i18n="brands.hero.highlight">melhores marcas de cerveja</span>
                    </h1>
                    <p class="hero-subtitle" data-i18n="brands.hero.description">
                        Descubra mais de 250 marcas de cerveja de todo o mundo, com histÃ³rias, origens e dados
                        detalhados.
                    </p>
                </div>

                <!-- Stats Grid (Integrated) -->
                <div class="hero-stats-grid">
                    <div class="stat-card glass-card">
                        <span class="stat-icon">ğŸº</span>
                        <div class="stat-info">
                            <span class="stat-number">+250</span>
                            <span class="stat-label" data-i18n="brands.stats.cataloged">Marcas</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <span class="stat-icon">ğŸŒ</span>
                        <div class="stat-info">
                            <span class="stat-number">+100</span>
                            <span class="stat-label" data-i18n="brands.stats.countries">PaÃ­ses</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <span class="stat-icon">ğŸ¢</span>
                        <div class="stat-info">
                            <span class="stat-number">+30</span>
                            <span class="stat-label" data-i18n="brands.stats.groups">Grupos</span>
                        </div>
                    </div>
                    <div class="stat-card glass-card">
                        <span class="stat-icon">ğŸ“œ</span>
                        <div class="stat-info">
                            <span class="stat-number" data-i18n="brands.stats.history_val">HistÃ³rico</span>
                            <span class="stat-label" data-i18n="brands.stats.history">Origens</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main Content -->
        <main class="top-brands-main">
            <div class="top-brands-container">
                <h1 class="top-brands-title" data-i18n="footer.top_brands">Top Marcas de Cerveja</h1>

                <!-- Filter Controls -->
                <div class="filter-controls">
                    <div class="filter-group search-group">
                        <label class="filter-label" data-i18n="filters.search_label">ğŸ” Buscar</label>
                        <div class="search-wrapper">
                            <input type="text" id="search-filter" class="filter-search" placeholder="Buscar cervejas..."
                                data-i18n-placeholder="filters.search_placeholder">
                            <button id="clear-filters" class="small-clear-btn" title="Limpar filtros">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label" data-i18n="filters.order_label">ğŸ·ï¸ Ordenar</label>
                        <select id="sort-filter" class="filter-select">
                            <option value="alphabetical" data-i18n="filters.order_az">A-Z</option>
                            <option value="popularity" data-i18n="filters.order_pop">Popularidade</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label" data-i18n="filters.country_label">ğŸŒ PaÃ­s de Origem</label>
                        <select id="country-filter" class="filter-select">
                            <option value="all" data-i18n="filters.country_all">Todos os PaÃ­ses</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label class="filter-label" data-i18n="filters.parent_label">ğŸ¢ Empresa MÃ£e</label>
                        <select id="parent-filter" class="filter-select">
                            <option value="all" data-i18n="filters.parent_all">Todas as Empresas</option>
                        </select>
                    </div>
                    <div class="filter-group lang-group">
                        <label class="filter-label" data-i18n="filters.lang_label">ğŸŒ LÃ­nguas</label>
                        <div class="lang-flags-mini" title="Language / Idioma / Sprache">
                            <button class="lang-btn-mini" data-lang="pt-BR" title="PortuguÃªs">ğŸ‡§ğŸ‡·</button>
                            <button class="lang-btn-mini" data-lang="en" title="English">ğŸ‡ºğŸ‡¸</button>
                            <button class="lang-btn-mini" data-lang="de" title="Deutsch">ğŸ‡©ğŸ‡ª</button>
                        </div>
                    </div>
                </div>



                <!-- Grid -->
                <div id="brands-grid-250" class="brands-grid-250"></div>

                <!-- Inline Footer -->
                <footer id="main-footer" class="main-footer">
                    <div class="footer-content">
                        <div class="footer-brand">
                            <span class="footer-logo" style="font-size: 2.5rem; font-weight: 800;">Beer<span
                                    class="logo-accent">SL</span></span>
                            <p class="footer-tagline" style="color: #4b5563;" data-i18n="footer.tagline">EnciclopÃ©dia de
                                Cervejas do Mundo</p>
                        </div>
                        <div class="footer-links">
                            <a href="index.html" data-i18n="nav.styles">Estilos</a>
                            <a href="top-brands.html" data-i18n="nav.brands">Top Brands</a>
                            <a href="about.html" data-i18n="nav.about">Sobre</a>
                            <a href="contact.html" data-i18n="nav.contact">Contato</a>
                        </div>
                        <p class="footer-copyright">Â© 2024 BeerSL. <span data-i18n="footer.rights">Todos os direitos
                                reservados.</span></p>
                    </div>
                </footer>
            </div>

            <!-- Sidebar Navigation -->
            <aside id="mobile-sidebar" class="mobile-sidebar">
                <div class="sidebar-header">
                    <span class="sidebar-title">Menu</span>
                    <button class="sidebar-close" id="sidebar-close">âœ•</button>
                </div>
                <nav class="sidebar-nav">
                    <a href="index.html" class="sidebar-link">ğŸ“Š <span data-i18n="nav.styles">Estilos</span></a>
                    <a href="top-brands.html" class="sidebar-link active">ğŸº <span data-i18n="nav.brands">Top
                            Brands</span></a>
                    <a href="about.html" class="sidebar-link">â„¹ï¸ <span data-i18n="nav.about">Sobre</span></a>
                    <a href="contact.html" class="sidebar-link">ğŸ“§ <span data-i18n="nav.contact">Contato</span></a>
                </nav>
                <div class="sidebar-lang">
                    <p class="sidebar-lang-label" data-i18n="menu.language">Idioma</p>
                    <div class="sidebar-lang-btns">
                        <button class="lang-btn-sidebar" data-lang="pt-BR">ğŸ‡§ğŸ‡· <span
                                data-i18n="lang.pt">PortuguÃªs</span></button>
                        <button class="lang-btn-sidebar" data-lang="en">ğŸ‡ºğŸ‡¸ <span
                                data-i18n="lang.en">English</span></button>
                        <button class="lang-btn-sidebar" data-lang="de">ğŸ‡©ğŸ‡ª <span
                                data-i18n="lang.de">Deutsch</span></button>
                    </div>
                </div>
                <div id="theme-menu-container" style="padding: 0 1.5rem; margin-bottom: 2rem;"></div>
            </aside>
            <div id="sidebar-overlay" class="sidebar-overlay"></div>


            <!-- Language and Menu Logic -->
            <script type="module">
                import { i18n } from './js/i18n/i18n.js';
                import { themeManager } from './js/theme-manager.js?v=42';

                document.addEventListener('DOMContentLoaded', () => {
                    themeManager.renderThemeMenu('#theme-menu-container');
                    // ========================================
                    // MENU TOGGLE FUNCTIONALITY
                    // ========================================
                    const menuToggle = document.getElementById('menu-toggle');
                    const sidebar = document.getElementById('mobile-sidebar');
                    const sidebarClose = document.getElementById('sidebar-close');
                    const sidebarOverlay = document.getElementById('sidebar-overlay');

                    function openSidebar() {
                        sidebar.classList.add('open');
                        sidebarOverlay.classList.add('show');
                        document.body.style.overflow = 'hidden';
                    }

                    function closeSidebar() {
                        sidebar.classList.remove('open');
                        sidebarOverlay.classList.remove('show');
                        document.body.style.overflow = '';
                    }

                    if (menuToggle) menuToggle.addEventListener('click', openSidebar);
                    if (sidebarClose) sidebarClose.addEventListener('click', closeSidebar);
                    if (sidebarOverlay) sidebarOverlay.addEventListener('click', closeSidebar);

                    // ========================================
                    // LANGUAGE BUTTONS (Filter Section)
                    // ========================================
                    const langBtns = document.querySelectorAll('.lang-btn-mini');
                    const sidebarLangBtns = document.querySelectorAll('.lang-btn-sidebar');

                    // Use beersl-lang key to match i18n.js
                    const currentLang = localStorage.getItem('beersl-lang') || 'pt-BR';
                    updateActiveFlag(currentLang);

                    // Filter language buttons
                    langBtns.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const lang = btn.dataset.lang;
                            i18n.setLang(lang);  // Use setLang, not changeLanguage
                            updateActiveFlag(lang);
                        });
                    });

                    // Sidebar language buttons
                    sidebarLangBtns.forEach(btn => {
                        btn.addEventListener('click', () => {
                            const lang = btn.dataset.lang;
                            i18n.setLang(lang);  // Use setLang, not changeLanguage
                            updateActiveFlag(lang);
                            closeSidebar();
                        });
                    });

                    function updateActiveFlag(lang) {
                        // Update filter flags
                        langBtns.forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.lang === lang ||
                                (lang.startsWith('pt') && btn.dataset.lang === 'pt-BR'));
                        });
                        // Update sidebar flags
                        sidebarLangBtns.forEach(btn => {
                            btn.classList.toggle('active', btn.dataset.lang === lang ||
                                (lang.startsWith('pt') && btn.dataset.lang === 'pt-BR'));
                        });
                    }

                    // Initialize i18n
                    i18n.init();
                });
            </script>

            <!-- Image Upload Modal -->
            <div id="upload-modal" class="upload-modal">
                <div class="upload-modal-content">
                    <h3 class="upload-modal-title">Edit Brand Image</h3>
                    <div class="img-container">
                        <img id="image-to-crop" src="" alt="Picture">
                    </div>
                    <div class="upload-modal-actions">
                        <button id="btn-discard" class="modal-btn btn-secondary">Discard</button>
                        <div class="right-actions">
                            <button id="btn-rotate" class="modal-btn btn-secondary" title="Rotate 90deg">â†»</button>
                            <button id="btn-save" class="modal-btn btn-primary">Save Image</button>
                        </div>
                    </div>
                </div>
            </div>

            <input type="file" id="brand-image-input" accept="image/*" style="display: none;">


            <!-- Cropper.js -->
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css">
            <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

            <!-- Scripts -->
            <script type="module" src="js/i18n/translations.js?v=101"></script>
            <script type="module" src="js/i18n/i18n.js?v=101"></script>
            <script type="module" src="js/top-brands.js?v=101"></script>
</body>


</html>